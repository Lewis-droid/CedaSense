# AI4INSURANCE Backend + Frontend

AI Facultative Submission Analyzer – MVP Description
1. Problem Statement

Cedants receive facultative submissions via working email (binders, slips, risk schedules, loss histories, attachments).
Brokers and underwriters must manually read, extract information, classify the risk, and determine ceding options—slow, error-prone, and inconsistent.

The MVP automates the first 70–80% of this process.

2. MVP Goal

Convert raw facultative submission emails into structured risk data and actionable underwriting recommendations.

The MVP focuses on:

Automatically fetching emails from a cedant inbox.

Extracting key information from emails + attachments using AI.

Scoring and summarizing the risk.

Showing results in a simple UI dashboard with recommendations.

3. Core User Group

Reinsurance Underwriters

Facultative Analysts

Cedant Relationship Teams

Actuarial/Analytics Support Teams

4. MVP Workflow (End-to-End)
Step 1 — Email Ingestion

System connects to cedant’s working email via IMAP / Microsoft Graph API.

It filters:

New submissions

Emails with PDFs, DOCX, XLSX, images

Emails with keywords: “fac submission”, “quote request”, “slip”, “schedule”.

Step 2 — Document Parsing & Data Extraction

AI model (OCR + LLM) processes:

Bordereaux

Slips

Risk schedules

Cover letters

Loss history tables

Property/Engineering/Medical risk docs

Extracts structured fields like:

Insured name

Location(s)

Sum insured

Premium / rate

Perils

Deductibles

Historical losses

Line size requested

Facultative vs treaty indicators

Underwriting notes

Step 3 — Risk Analysis Engine

A lightweight model evaluates:

Completeness score (missing info detection)

Risk severity score

Hazard indicators (fire, nat cat, engineering complexity, etc.)

Red flags (poor loss history, missing safety compliance, etc.)

Step 4 — Recommendations

The engine produces practical underwriting suggestions such as:

Suggested line (max line the company should take)

Pricing reference range

Additional information needed

Referral rules triggered (if any)

Historical similar risks

Step 5 — UI Display

A simple dashboard displays:

Inbox View

List of submissions

Status (New / In Progress / Completed)

Submission Summary

Original email

Extracted structured fields

Document previews

Risk scores

Recommendations Panel

Accept / Decline / Need-more-info

Suggested cession

Underwriting notes generated by AI

5. MVP Feature Breakdown
Must-Have (MVP Core)

Connect to email inbox

Detect and collect facultative submission emails

OCR + LLM extraction from PDFs, Word, Excel

Risk scoring (basic)

Basic UI to display extracted data

Recommendation insights

Audit trail for each submission

Nice-to-Have (for later releases)

Integration with Ri system (TREATY/FAc platform)

Automated quote generation

Document classification per business line

BI dashboards (Power BI/Tableau)

Multi-language document extraction

6. Technical Architecture (High-Level)
Backend

Email connector (IMAP/Graph API)

Document processor (OCR + LLM)

Extraction microservice

Risk scoring microservice

Database: PostgreSQL / MongoDB

AI Models

OCR: Tesseract/Google Vision

LLM: Llama/OpenAI GPT fine-tuned on insurance docs

Classification: logistic regression or gradient boosting

Extraction: model trained on slips + schedules

Frontend

Web UI: React + Tailwind

View submissions and recommendations

7. Success Criteria (MVP KPIs)

70%+ accuracy in field extraction

50% reduction in manual review time

90% correct classification of business line (property/engineering/etc.)

User satisfaction rating 4.0/5+ from underwriters

8. Example Output for a User

Submission: Property – Industrial Plant (Kenya)

Sum Insured: KES 5.2B

Premium: USD 95,000

Loss Ratio (5 years): 12%

Reinsurance Line Requested: 30%

Hazards Detected: Fire, Machinery Breakdown

Completeness Score: 82%

AI Recommendation:

Suggested line: 20–25%
Risk acceptable with standard exclusions.
Request additional info: updated sprinkler testing report.

## Backend (Flask API + Pipeline)

1. Create and activate a virtual environment:
   
   ```bash
   python3 -m venv backend/venv
   backend/venv/bin/pip install --upgrade pip setuptools wheel
   backend/venv/bin/pip install flask pandas numpy requests
   ```

2. Run the backend (this executes the pipeline and starts the server):
   
   ```bash
   backend/venv/bin/python backend/comined/main.py
   ```

   - API endpoint: `http://127.0.0.1:5000/api/decisions`
   - HTML viewer (optional): `http://127.0.0.1:5000/`

Note: The calculator may attempt FX conversion via OANDA and fall back to `NaN` if the API is unavailable; the rest of the pipeline continues.

## Frontend (Static)

Open `frontend/index.html` in a browser. By default it fetches from `http://127.0.0.1:5000/api/decisions`.

To point to a different backend URL, use:

```text
frontend/index.html?api=http://localhost:5000/api/decisions
```

Ensure the backend is running first. 

Run main.py in Backend...comined folder...use python3.12 for stable launch of product...
