<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CedaSense - Facultative Reinsurance Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="assets/cedasence-logo.jpg">
</head>
<body>
  <header>
    <div class="header-content">
      <div class="header-title">
        <h1><span class="brand"><img src="assets/cedasence-logo.jpg" alt="CedaSense" class="brand-logo"/> <span>CedaSense Dashboard</span></span></h1>
        <div class="status" id="status">
          <div class="status-dot"></div>
          <span>Loading...</span>
        </div>
      </div>
      <div class="header-actions">
        <a href="analytics.html" class="btn btn-secondary">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="20" x2="18" y2="10"/>
            <line x1="12" y1="20" x2="12" y2="4"/>
            <line x1="6" y1="20" x2="6" y2="14"/>
          </svg>
          Analytics
        </a>
        <a href="case-manager.html" class="btn btn-secondary">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
            <line x1="16" y1="2" x2="16" y2="6"/>
            <line x1="8" y1="2" x2="8" y2="6"/>
            <line x1="3" y1="10" x2="21" y2="10"/>
          </svg>
          Case Manager
        </a>
        <button class="btn btn-primary" onclick="refreshData()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
            <path d="M21 3v5h-5"/>
            <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
            <path d="M3 21v-5h5"/>
          </svg>
          Refresh
        </button>
        <button class="btn btn-secondary" onclick="exportData()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7,10 12,15 17,10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          Export
        </button>
      </div>
    </div>
  </header>

  <main>
    <!-- Dashboard Statistics -->
    <section class="dashboard-stats" id="dashboard-stats">
      <div class="stat-card">
        <div class="stat-value" id="total-cases">0</div>
        <div class="stat-label">Total Cases</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="accepted-cases">0</div>
        <div class="stat-label">Accepted Cases</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="declined-cases">0</div>
        <div class="stat-label">Declined Cases</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="acceptance-rate">0%</div>
        <div class="stat-label">Acceptance Rate</div>
      </div>
    </section>

    <!-- Controls -->
    <section class="controls">
      <div class="controls-row">
        <div class="search-box">
          <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
          <input 
            type="text" 
            class="search-input" 
            placeholder="Search by insured, cedant, or broker..." 
            id="search-input"
            onkeyup="filterTable()"
          />
        </div>
        <div class="filter-group">
          <select class="filter-select" id="decision-filter" onchange="filterTable()">
            <option value="">All Decisions</option>
            <option value="accept">Accept</option>
            <option value="decline">Decline</option>
          </select>
          <select class="filter-select" id="sort-by" onchange="sortTable()">
            <option value="">Sort by...</option>
            <option value="insured">Insured</option>
            <option value="cedant">Cedant</option>
            <option value="decision">Decision</option>
            <option value="share">Share %</option>
          </select>
          <button class="btn btn-secondary" onclick="clearFilters()">Clear</button>
        </div>
      </div>
    </section>

    <!-- Cases Table -->
    <section class="table-container">
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Insured</th>
            <th>Cedant</th>
            <th>Broker</th>
            <th>Decision</th>
            <th>Accepted Share</th>
            <th>Premium (KES)</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="cases"></tbody>
      </table>
    </section>

    <!-- Empty state -->
    <div id="empty-state" class="text-center" style="display: none; padding: 4rem; color: var(--text-secondary);">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" style="margin: 0 auto 1rem; opacity: 0.5;">
        <circle cx="12" cy="12" r="10"/>
        <path d="M16 16s-1.5-2-4-2-4 2-4 2"/>
        <line x1="9" y1="9" x2="9.01" y2="9"/>
        <line x1="15" y1="9" x2="15.01" y2="9"/>
      </svg>
      <h3>No cases found</h3>
      <p>Try adjusting your search or filter criteria</p>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 AI4Insurance. Facultative Reinsurance Decision Support System.</p>
  </footer>

  <!-- Notification container -->
  <div id="notifications"></div>

  <script src="app.js"></script>
</body>
</html> 